<!-- 
  User Management Page Template
  - Displays a list of organiser accounts and regular user accounts separately.
  - Provides a button to add a new organiser.
  - Each organiser card displays the user's name and email, with a Delete button (except for the currently logged-in organiser).
  - Each regular user card displays the user's name, email, and a Delete button.
  - Includes navigation back to the organiser dashboard.
  - Uses header and footer partials.
-->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{title}}</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
{{> header}}
<div class="container">
  <h1>{{title}}</h1>
  
  <!-- Link to add a new organiser -->
  <div class="mb-3">
    <a href="/organiser/new-organiser" class="btn btn-primary">Add New Organiser</a>
  </div>
  
  <h2>Organisers</h2>
  {{#organisers}}
    <div class="card mt-3">
      <div class="card-body">
        <p><strong>User Name:</strong> {{user}}</p>
        <p><strong>Email:</strong> {{email}}</p>
        {{^isCurrentUser}}
          <a href="/organiser/users/delete/{{_id}}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this user?');">Delete User</a>
        {{/isCurrentUser}}
      </div>
    </div>
  {{/organisers}}
  {{^organisers}}
    <p>No organisers found.</p>
  {{/organisers}}
  
  <h2>Users</h2>
  {{#users}}
    <div class="card mt-3">
      <div class="card-body">
        <p><strong>User Name:</strong> {{user}}</p>
        <p><strong>Email:</strong> {{email}}</p>
        <a href="/organiser/users/delete/{{_id}}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this user?');">Delete User</a>
      </div>
    </div>
  {{/users}}
  {{^users}}
    <p>No users found.</p>
  {{/users}}
  
  <a href="/organiser" class="btn btn-secondary mt-3">Back to Dashboard</a>
  {{> footer}}
  </div>
</body>
</html>

